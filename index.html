<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LPIC Penguin Rescue</title>
    <style>
        :root {
            --sky-blue: #87ceeb;
            --ice-white: #f0f8ff;
            --term-green: #00ff41;
            --error-red: #ff4757;
            --ocean-blue: #0a3d62;
        }

        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Segoe UI', 'Hiragino Kaku Gothic ProN', sans-serif;
            background-color: var(--sky-blue);
        }

        #world { display: flex; flex-direction: column; height: 100vh; }
        #sky { flex: 2; position: relative; background: linear-gradient(to bottom, #2980b9, #6dd5fa); overflow: hidden; }
        #typing-area { flex: 3; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10; }
        
        #ground-area {
            flex: 2;
            position: relative;
            background-color: transparent;
        }

        /* æ°·ã®å‚é“ï¼ˆãªã ã‚‰ã‹ã«ã€å³ç«¯ã‚’å´–ã«ã™ã‚‹ï¼‰ */
        #ice-slope {
            position: absolute;
            inset: 0;
            background: linear-gradient(160deg, #fff 0%, #dff9fb 100%);
            /* å³ç«¯ 85% ã®ä½ç½®ã§é«˜ã• 60% ã«ãªã‚‹ã‚ˆã†ã«è¨­å®š */
            clip-path: polygon(0 40%, 85% 60%, 85% 100%, 0 100%);
            z-index: 1;
        }

        /* è½ã¨ã—ç©´ï¼ˆå‚ã®çµ‚ã‚ã‚Šã‚ˆã‚Šä½ãé…ç½®ï¼‰ */
        #pit-hole {
            position: absolute;
            right: 0;
            top: 65%; /* å‚ã®çµ‚ã‚ã‚Š(60%)ã‚ˆã‚Šã•ã‚‰ã«ä½ãã—ã¦æ®µå·®ã‚’ä½œã‚‹ */
            width: 15%;
            height: 35%;
            background: linear-gradient(to bottom, #000, var(--ocean-blue));
            border-top: 5px solid rgba(0,0,0,0.3);
            z-index: 2;
        }

       #penguin {
    position: absolute;
    /* åŠåˆ†ãã‚‰ã„ã®ã‚µã‚¤ã‚ºã«å¤‰æ›´ï¼ˆãŠå¥½ã¿ã§60pxã€œ80pxãã‚‰ã„ã§èª¿æ•´ã—ã¦ãã ã•ã„ï¼‰ */
    width: 350px; 
    height: auto;
    z-index: 10;
    /* ...ä»¥ä¸‹åŒã˜... */
    transform: translate(-50%, -85%); 
    transition: transform 0.2s ease-out !important;
    pointer-events: none;
    filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
}

        .cloud { position: absolute; background: #fff; width: 100px; height: 40px; border-radius: 50px; opacity: 0.8; animation: moveCloud linear infinite; }
        @keyframes moveCloud { from { transform: translateX(110vw); } to { transform: translateX(-20vw); } }

        #cmd-display { background: rgba(0, 0, 0, 0.7); padding: 30px; border-radius: 20px; border: 4px solid #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-align: center; max-width: 80%; }
        #target-desc { color: #ecf0f1; font-size: 1.2rem; margin-bottom: 10px; }
        #target-text { font-family: 'Consolas', monospace; font-size: 2.5rem; color: #fff; letter-spacing: 2px; }
        .correct { color: var(--term-green); text-shadow: 0 0 10px var(--term-green); }
        .current { border-bottom: 3px solid #fff; }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 100; color: white; }
        button { padding: 20px 60px; font-size: 2rem; background: var(--term-green); border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 0 #009432; }
        button:active { transform: translateY(5px); box-shadow: none; }
        .miss-flash { animation: flash 0.1s; }
        @keyframes flash { from { background-color: var(--error-red); } to { background-color: transparent; } }
    </style>
</head>
<body onclick="initAudio()">

<div style="position: absolute; top: 10px; left: 0; width: 100%; display: flex; justify-content: space-around; z-index: 100; color: white; font-family: monospace; font-size: 2rem; pointer-events: none; text-shadow: 2px 2px 4px black;">
    <div>TIME: <span id="ui-time">90</span></div>
    <div>SCORE: <span id="ui-score">0</span></div>
</div>

<div id="world">
    <div id="sky">
        <div class="cloud" style="top: 20%; animation-duration: 25s;"></div>
        <div class="cloud" style="top: 50%; animation-duration: 40s; width: 150px;"></div>
    </div>
    
    <div id="typing-area">
        <div id="cmd-display">
            <div id="target-desc">PRESS START</div>
            <div id="target-text">LPIC RESCUE</div>
        </div>
    </div>

    <div id="ground-area">
        <div id="ice-slope"></div>
        <div id="pit-hole"></div>
        <img id="penguin" src="Gemini_Generated_Image_2940k32940k32940-removebg-preview.png" alt="çœ ã‚‹ãƒšãƒ³ã‚®ãƒ³">
    </div>
</div>

<div id="start-screen" class="overlay">
    <h1 style="font-size: 4rem;">ğŸ§ ãƒšãƒ³ã‚®ãƒ³æ•‘å‡ºä½œæˆ¦</h1>
    <p style="font-size: 1.5rem; margin-bottom: 30px;">LPICã‚¿ã‚¤ãƒ”ãƒ³ã‚°ï½ç©´ã«è½ã¡ã‚‹å‰ã«ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¡è¾¼ã‚ï¼ï½</p>
    <button onclick="startGame()">ãƒ¬ã‚¹ã‚­ãƒ¥ãƒ¼é–‹å§‹ (Enter)</button>
</div>

<div id="result-screen" class="overlay" style="display: none;">
    <h2 id="result-title" style="font-size: 3rem;">FINISH!</h2>
    <div id="stats" style="font-size: 1.5rem; margin: 30px; text-align: center;"></div>
    <button onclick="location.reload()">å†æŒ‘æˆ¦</button>
</div>

<script>
const questions = [
    // --- åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ï¼ˆå¼•æ•°ãªã—ï¼‰ ---
        { cmd: "pwd", desc: "ç¾åœ¨ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¡¨ç¤º" },
        { cmd: "clear", desc: "ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ç”»é¢ã‚’æ¶ˆå»ã—ã¦æ•´ç†" },
        { cmd: "uptime", desc: "ã‚·ã‚¹ãƒ†ãƒ ã®ç¨¼åƒæ™‚é–“ã¨è² è·ã‚’ç¢ºèª" },
        { cmd: "free", desc: "ãƒ¡ãƒ¢ãƒªã®ä½¿ç”¨çŠ¶æ³ã‚’è¡¨ç¤º" },
        { cmd: "whoami", desc: "ç¾åœ¨ã®ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’è¡¨ç¤º" },
        { cmd: "uname", desc: "ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã®åŸºæœ¬ã‚’è¡¨ç¤º" },
        { cmd: "dmesg", desc: "ã‚«ãƒ¼ãƒãƒ«ã®ãƒªãƒ³ã‚°ãƒãƒƒãƒ•ã‚¡ï¼ˆèµ·å‹•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç­‰ï¼‰ã‚’ç¢ºèª" },
        { cmd: "history", desc: "å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ã®å±¥æ­´ã‚’è¡¨ç¤º" },
        { cmd: "sync", desc: "ãƒ¡ãƒ¢ãƒªä¸Šã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«æ›¸ãè¾¼ã‚€" },
        { cmd: "reboot", desc: "ã‚·ã‚¹ãƒ†ãƒ ã‚’å†èµ·å‹•ã™ã‚‹" },
        { cmd: "exit", desc: "ç¾åœ¨ã®ã‚·ã‚§ãƒ«ã‚„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’çµ‚äº†ã™ã‚‹" },
        { cmd: "lsusb", desc: "USBãƒ‡ãƒã‚¤ã‚¹ã®æƒ…å ±ã‚’è¡¨ç¤º" },
        { cmd: "lspci", desc: "PCIãƒ‡ãƒã‚¤ã‚¹ã®æƒ…å ±ã‚’è¡¨ç¤º" },
    
    // --- é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ ---
        { cmd: "/etc/passwd", desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/group", desc: "ã‚°ãƒ«ãƒ¼ãƒ—æƒ…å ±ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/profile", desc: "ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ç’°å¢ƒè¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ" },
        { cmd: "/dev/null", desc: "æŠ•ã’è¾¼ã¾ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’å…¨ã¦æ¨ã¦ã‚‹ã€Œã‚´ãƒŸç®±ã€ãƒ‡ãƒã‚¤ã‚¹" },
        { cmd: "/proc/cpuinfo", desc: "CPUã®è©³ç´°æƒ…å ±ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ä»®æƒ³ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/proc/meminfo", desc: "ãƒ¡ãƒ¢ãƒªã®è©³ç´°æƒ…å ±ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ä»®æƒ³ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/var/log/messages", desc: "æ±ç”¨çš„ãªã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆCentOSç³»ï¼‰" },
        { cmd: "/var/log/auth.log", desc: "èªè¨¼ã«é–¢ã™ã‚‹ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆDebianç³»ï¼‰" },
        { cmd: "/etc/bashrc", desc: "bashã®ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/boot/grub/grub.cfg", desc: "GRUB2ã®ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«" },

    // --- è¿½åŠ ã®é »å‡ºã‚³ãƒãƒ³ãƒ‰ ---
        { cmd: "man ls", desc: "lsã‚³ãƒãƒ³ãƒ‰ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’è¡¨ç¤º" },
        { cmd: "cp -a", desc: "å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã®å±æ€§ãƒ»ãƒªãƒ³ã‚¯ã‚’å®Œå…¨ã«ç¶­æŒã—ã¦ã‚³ãƒ”ãƒ¼" },
        { cmd: "ln target link", desc: "ãƒãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’ä½œæˆ" },
        { cmd: "cat > file.txt", desc: "æ¨™æº–å…¥åŠ›ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼ˆCtrl+Dã§çµ‚äº†ï¼‰" },
        { cmd: "groups root", desc: "rootãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰€å±ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç¢ºèª" },
        { cmd: "last", desc: "æœ€è¿‘ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å±¥æ­´ã‚’è¡¨ç¤º" },
        { cmd: "du -h", desc: "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã®å®¹é‡ã‚’èª­ã¿ã‚„ã™ã„å˜ä½ã§è¡¨ç¤º" },
        { cmd: "nice -n 10 cmd", desc: "å„ªå…ˆåº¦ã‚’ä¸‹ã’ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ" },
        { cmd: "vi filename", desc: "æ¨™æº–ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã" },
        { cmd: "updatedb", desc: "locateã‚³ãƒãƒ³ãƒ‰ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ›´æ–°" },
        { cmd: "locate config", desc: "DBã‚’åˆ©ç”¨ã—ã¦é«˜é€Ÿã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢" },
        { cmd: "whatis ls", desc: "ã‚³ãƒãƒ³ãƒ‰ã®çŸ­ã„èª¬æ˜ã‚’è¡¨ç¤º" },
        { cmd: "which python", desc: "å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’è¡¨ç¤º" },

        // --- 101: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç† ---

        { cmd: "ls -la", desc: "éš ã—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°ã‚’è¡¨ç¤º" },

        { cmd: "ls -ltr", desc: "æ›´æ–°æ—¥æ™‚ãŒå¤ã„é †ã«è¡¨ç¤ºï¼ˆå®Ÿå‹™ã§ãƒ­ã‚°ç¢ºèªã«å¤šç”¨ï¼‰" },

        { cmd: "cp -rp src/ dest/", desc: "æ¨©é™ã‚„å±æ€§ã‚’ä¿æŒã—ãŸã¾ã¾ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°çš„ã«ã‚³ãƒ”ãƒ¼" },

        { cmd: "rm -rf /tmp/olddata", desc: "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è­¦å‘Šãªã—ã§å¼·åˆ¶å‰Šé™¤ï¼ˆå–æ‰±æ³¨æ„ï¼‰" },

        { cmd: "mkdir -p /a/b/c", desc: "ä¸­é–“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å«ã‚ã¦ä¸€æ°—ã«ä½œæˆ" },

        { cmd: "ln -s target link", desc: "ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰ã‚’ä½œæˆ" },

        { cmd: "find /var/log -name '*.log'", desc: "æŒ‡å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢" },

        { cmd: "chown root:root file", desc: "æ‰€æœ‰è€…ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¸¡æ–¹rootã«å¤‰æ›´" },

        { cmd: "chmod 644 file", desc: "æ‰€æœ‰è€…ã«èª­æ›¸æ¨©é™ã€ãã®ä»–ã«èª­è¾¼æ¨©é™ã‚’ä»˜ä¸" },

        { cmd: "chmod 755 script.sh", desc: "ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸" },

        { cmd: "umask 022", desc: "æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¨©é™ã‚’è¨­å®š" },



        // --- 101: ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç† ---

        { cmd: "cat /etc/passwd", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’å…¨è¡¨ç¤º" },

        { cmd: "less /var/log/messages", desc: "é•·ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ç”»é¢ãšã¤è¡¨ç¤ºï¼ˆé–²è¦§ã«æœ€é©ï¼‰" },

        { cmd: "head -n 10 file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­10è¡Œã‚’è¡¨ç¤º" },

        { cmd: "tail -f /var/log/syslog", desc: "ãƒ­ã‚°ã®æ›´æ–°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–" },

        { cmd: "grep -i 'error' file", desc: "å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã›ãšæ¤œç´¢" },

        { cmd: "grep -v '^#' file", desc: "ã‚³ãƒ¡ãƒ³ãƒˆè¡Œï¼ˆ#é–‹å§‹ï¼‰ã‚’é™¤å¤–ã—ã¦è¡¨ç¤º" },

        { cmd: "sed -i 's/old/new/g' file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®æ–‡å­—åˆ—ã‚’ç›´æ¥ç½®æ›" },

        { cmd: "awk '{print $1}' file", desc: "å„è¡Œã®1ç•ªç›®ã®é …ç›®ã ã‘ã‚’æŠ½å‡º" },

        { cmd: "sort -u file", desc: "é‡è¤‡ã‚’æ’é™¤ã—ã¦ä¸¦ã¹æ›¿ãˆ" },

        { cmd: "wc -l file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®è¡Œæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ" },



        // --- 101: ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»ãƒ‡ã‚£ã‚¹ã‚¯ ---

        { cmd: "ps aux", desc: "å®Ÿè¡Œä¸­ã®å…¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’è©³ç´°è¡¨ç¤º" },

        { cmd: "top", desc: "ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆQã§çµ‚äº†ï¼‰" },

        { cmd: "kill -9 1234", desc: "ãƒ—ãƒ­ã‚»ã‚¹ID 1234ã‚’å¼·åˆ¶çµ‚äº†" },

        { cmd: "jobs", desc: "ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã®ä¸€è¦§ã‚’è¡¨ç¤º" },

        { cmd: "df -h", desc: "ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãå®¹é‡ã‚’äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ã§è¡¨ç¤º" },

        { cmd: "du -sh *", desc: "ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®å®¹é‡åˆè¨ˆã‚’è¡¨ç¤º" },

        { cmd: "fdisk -l", desc: "ãƒ‡ã‚£ã‚¹ã‚¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³æ§‹æˆã‚’ç¢ºèª" },

        { cmd: "mount", desc: "ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’è¡¨ç¤º" },



        // --- 102: ã‚·ã‚§ãƒ«ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ---

        { cmd: "echo $PATH", desc: "ã‚³ãƒãƒ³ãƒ‰ã®æ¤œç´¢ãƒ‘ã‚¹ã‚’è¡¨ç¤º" },

        { cmd: "export VAR=val", desc: "ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š" },

        { cmd: "alias ll='ls -l'", desc: "ã‚³ãƒãƒ³ãƒ‰ã®åˆ¥åã‚’è¨­å®š" },

        { cmd: "ip addr show", desc: "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’è¡¨ç¤º" },

        { cmd: "ip route show", desc: "ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¡¨ç¤º" },

        { cmd: "ping -c 4 8.8.8.8", desc: "4å›ã ã‘ç–é€šç¢ºèªã‚’é€ã‚‹" },

        { cmd: "netstat -tulnp", desc: "å¾…æ©Ÿä¸­ã®ãƒãƒ¼ãƒˆã¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª" },

        { cmd: "ss -ant", desc: "TCPæ¥ç¶šã®çŠ¶æ…‹ã‚’è¡¨ç¤º" },

        { cmd: "dig google.com", desc: "DNSã®æ­£å¼•ãæƒ…å ±ã‚’ç¢ºèª" },

        { cmd: "ssh -p 22 user@host", desc: "ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶š" },



        // --- 102: ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ç®¡ç† ---

        { cmd: "systemctl start httpd", desc: "Webã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•" },

        { cmd: "systemctl stop firewalld", desc: "ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚’åœæ­¢" },

        { cmd: "systemctl enable sshd", desc: "SSHã®è‡ªå‹•èµ·å‹•ã‚’æœ‰åŠ¹åŒ–" },

        { cmd: "systemctl status crond", desc: "å®šæœŸå®Ÿè¡Œã‚µãƒ¼ãƒ“ã‚¹ã®ç¨¼åƒçŠ¶æ…‹ã‚’ç¢ºèª" },

        { cmd: "journalctl -xe", desc: "ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®æœ«å°¾ã‹ã‚‰ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèª" },

        { cmd: "crontab -e", desc: "å®šæœŸå®Ÿè¡Œã‚¿ã‚¹ã‚¯ã®ç·¨é›†" },

        { cmd: "useradd -m -s /bin/bash user", desc: "ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã‚’æŒ‡å®šã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ " },

        { cmd: "passwd username", desc: "æŒ‡å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´" },

        { cmd: "groupadd team-a", desc: "æ–°ã—ã„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆ" },

        { cmd: "id root", desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®UID/GIDã‚’ç¢ºèª" },



        // --- 102: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç† ---

        { cmd: "yum install nginx", desc: "RedHatç³»ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" },

        { cmd: "apt update && apt upgrade", desc: "Debianç³»ã§å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°" },

        { cmd: "rpm -qa", desc: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®RPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¨è¡¨ç¤º" },

        { cmd: "dpkg -l", desc: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€è¦§è¡¨ç¤º" },

        

        // --- é »å‡ºãƒ»é‡è¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« ---

        { cmd: "/etc/hostname", desc: "ãƒ›ã‚¹ãƒˆåã‚’è¨­å®šã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },

        { cmd: "/etc/hosts", desc: "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ›ã‚¹ãƒˆåã®å¯¾å¿œè¡¨" },

        { cmd: "/etc/resolv.conf", desc: "DNSã‚µãƒ¼ãƒãƒ¼ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«" },

        { cmd: "/etc/fstab", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆè¨­å®š" },

        { cmd: "/etc/shadow", desc: "æš—å·åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¿å­˜ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },

        { cmd: "/etc/sudoers", desc: "sudoæ¨©é™ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆvisudoã§ç·¨é›†ï¼‰" }

    ];

    let currentQ, typedIndex, score, timeLeft, gameActive = false;
    let audioCtx = null;
    let questionStartTime = 0; 
    const FIXED_LIMIT = 10; 

    // ã‚¹ãƒ­ãƒ¼ãƒ—ã®ç‰©ç†è¨­å®šï¼ˆCSSã¨åŒæœŸï¼‰
    const SLOPE_START_Y = 40; 
    const SLOPE_END_Y = 60;   
    const SLOPE_END_X = 85;

    function initAudio() { if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }

    function playSound(freq, type, duration) {
        if (!audioCtx) return;
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + duration);
    }

    function refreshUI() {
        document.getElementById('ui-time').innerText = timeLeft;
        document.getElementById('ui-score').innerText = score;
    }

    function startGame() {
        if (gameActive) return;
        document.getElementById('start-screen').style.display = 'none';
        gameActive = true;
        score = 0;
        timeLeft = 90;
        refreshUI();
        nextQuestion();
        requestAnimationFrame(gameLoop);
        
        const timer = setInterval(() => {
            if(gameActive) {
                timeLeft--;
                refreshUI();
                if(timeLeft <= 0) { clearInterval(timer); endGame(); }
            }
        }, 1000);
    }

    function nextQuestion() {
        currentQ = questions[Math.floor(Math.random() * questions.length)];
        typedIndex = 0;
        questionStartTime = performance.now();
        updateDisplay();
    }

    function updateDisplay() {
        let html = "";
        for (let i = 0; i < currentQ.cmd.length; i++) {
            if (i < typedIndex) html += `<span class="correct">${currentQ.cmd[i]}</span>`;
            else if (i === typedIndex) html += `<span class="current">${currentQ.cmd[i]}</span>`;
            else html += `<span>${currentQ.cmd[i]}</span>`;
        }
        document.getElementById('target-text').innerHTML = html;
        document.getElementById('target-desc').innerText = currentQ.desc;
    }

    function gameLoop(currentTime) {
        if (!gameActive) return;

        const elapsed = (currentTime - questionStartTime) / 1000;
        const progress = Math.min(elapsed / FIXED_LIMIT, 1);

        // æ¨ªä½ç½®ï¼š10%ã‹ã‚‰85%ã¸
        const currentPosX = 10 + (75 * progress);
        
        // ç¸¦ä½ç½®ï¼šå‚é“ã®è§’åº¦ã«åˆã‚ã›ã‚‹
        // Y = 40 + (20 * (ç¾åœ¨ä½ç½® / 85))
        const currentPosY = SLOPE_START_Y + ((SLOPE_END_Y - SLOPE_START_Y) * (currentPosX / SLOPE_END_X));

        const p = document.getElementById('penguin');
        p.style.left = currentPosX + "%";
        p.style.top = currentPosY + "%";

        if (elapsed >= FIXED_LIMIT) {
            playSound(150, 'sawtooth', 0.3);
            score = Math.max(0, score - 50);
            refreshUI();
            nextQuestion(); 
        }
        requestAnimationFrame(gameLoop);
    }

    window.addEventListener('keydown', (e) => {
        if (!gameActive) { if (e.key === 'Enter') startGame(); return; }
        if (e.key.length > 1) return;
        if (e.key === currentQ.cmd[typedIndex]) {
            typedIndex++;
            playSound(600, 'sine', 0.05);
            if (typedIndex >= currentQ.cmd.length) {
                score += 100;
                refreshUI();
                playSound(1000, 'sine', 0.1);
                const p = document.getElementById('penguin');
                p.style.marginTop = "-50px"; 
                p.style.transform = "translate(-50%, -85%) rotate(360deg)";
                setTimeout(() => { 
                    p.style.marginTop = "0px";
                    p.style.transform = "translate(-50%, -85%) rotate(0deg)";
                    nextQuestion(); 
                }, 200);
            } else { updateDisplay(); }
        } else {
            playSound(200, 'square', 0.1);
            document.body.classList.add('miss-flash');
            setTimeout(() => document.body.classList.remove('miss-flash'), 100);
        }
    });

    function endGame() {
        gameActive = false;
        document.getElementById('result-screen').style.display = 'flex';
        document.getElementById('stats').innerHTML = `ã‚¹ã‚³ã‚¢: ${score}ç‚¹<br>ç§°å·: ${score > 1500 ? 'å®Ÿå‹™ãƒ¬ãƒ™ãƒ«' : 'ä¸€èˆ¬ãƒ¬ãƒ™ãƒ«'}`;
    }
</script>
</body>
</html>






