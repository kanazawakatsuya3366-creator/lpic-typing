<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LPIC Penguin Race</title>
    <style>
        :root {
            --bg-dark: #0d1117;
            --ice-blue: #a5f3fc;
            --term-green: #00ff41;
            --text-white: #ffffff;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-white);
            font-family: 'Courier New', monospace;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ± */
        #hud {
            width: 90%;
            display: flex;
            justify-content: space-between;
            padding: 20px;
            font-size: 1.5rem;
        }

        /* ãƒ¡ã‚¤ãƒ³è¡¨ç¤ºã‚¨ãƒªã‚¢ï¼ˆä¸­å¤®å›ºå®šï¼‰ */
        #display-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            text-align: center;
        }

        #target-desc {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 10px;
        }

        #target-text {
            font-size: 3.5rem;
            letter-spacing: 0.1em;
            background: rgba(255,255,255,0.05);
            padding: 20px 40px;
            border-radius: 15px;
        }

        .correct { color: var(--term-green); }
        .next { border-bottom: 3px solid var(--term-green); }

        /* ãƒšãƒ³ã‚®ãƒ³ã®èµ°è¡Œã‚¨ãƒªã‚¢ï¼ˆä¸‹éƒ¨ï¼‰ */
        #track-container {
            width: 100%;
            height: 150px;
            background: linear-gradient(to bottom, #0074d9, var(--ice-blue));
            position: relative;
            border-top: 4px solid #fff;
        }

        #penguin {
            position: absolute;
            bottom: 20px;
            left: 0%; /* ã“ã“ãŒã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã§å¢—ãˆã‚‹ */
            font-size: 4rem;
            transition: left 0.2s ease-out;
            z-index: 10;
        }

        #goal-flag {
            position: absolute;
            right: 20px;
            bottom: 20px;
            font-size: 3rem;
        }

        /* çµæœç”»é¢ */
        #result-screen {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        #start-screen {
            position: fixed;
            inset: 0;
            background: var(--bg-dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 101;
        }

        button {
            padding: 15px 40px;
            font-size: 1.5rem;
            background: var(--term-green);
            border: none;
            cursor: pointer;
            border-radius: 30px;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div id="start-screen">
    <h1 style="font-size: 3rem; color: var(--term-green);">LPIC PENGUIN RACE</h1>
    <p>ã‚³ãƒãƒ³ãƒ‰ã‚’æ­£ã—ãæ‰“ã£ã¦ãƒšãƒ³ã‚®ãƒ³ã‚’ã‚´ãƒ¼ãƒ«ã¸å°ã‘ï¼</p>
    <button onclick="startGame()">ãƒ¬ãƒ¼ã‚¹é–‹å§‹ (Enter)</button>
</div>

<div id="hud">
    <div>Time: <span id="timer">60</span>s</div>
    <div>Score: <span id="score">0</span></div>
</div>

<div id="display-area">
    <div id="target-desc">ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜ãŒã“ã“ã«å‡ºã¾ã™</div>
    <div id="target-text">PRESS START</div>
</div>

<div id="track-container">
    <div id="penguin">ğŸ§</div>
    <div id="goal-flag">ğŸ</div>
</div>

<div id="result-screen">
    <h2 style="font-size: 3rem;">FINISH!</h2>
    <p id="final-stats" style="font-size: 1.5rem;"></p>
    <button onclick="location.reload()">å†æŒ‘æˆ¦</button>
</div>

<script>
const questions = [
        // --- 101: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç† ---
        { cmd: "ls -la", desc: "éš ã—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°ã‚’è¡¨ç¤º" },
        { cmd: "ls -ltr", desc: "æ›´æ–°æ—¥æ™‚ãŒå¤ã„é †ã«è¡¨ç¤ºï¼ˆå®Ÿå‹™ã§ãƒ­ã‚°ç¢ºèªã«å¤šç”¨ï¼‰" },
        { cmd: "cp -rp src/ dest/", desc: "æ¨©é™ã‚„å±æ€§ã‚’ä¿æŒã—ãŸã¾ã¾ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°çš„ã«ã‚³ãƒ”ãƒ¼" },
        { cmd: "rm -rf /tmp/olddata", desc: "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è­¦å‘Šãªã—ã§å¼·åˆ¶å‰Šé™¤ï¼ˆå–æ‰±æ³¨æ„ï¼‰" },
        { cmd: "mkdir -p /a/b/c", desc: "ä¸­é–“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å«ã‚ã¦ä¸€æ°—ã«ä½œæˆ" },
        { cmd: "ln -s target link", desc: "ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰ã‚’ä½œæˆ" },
        { cmd: "find /var/log -name '*.log'", desc: "æŒ‡å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢" },
        { cmd: "chown root:root file", desc: "æ‰€æœ‰è€…ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¸¡æ–¹rootã«å¤‰æ›´" },
        { cmd: "chmod 644 file", desc: "æ‰€æœ‰è€…ã«èª­æ›¸æ¨©é™ã€ãã®ä»–ã«èª­è¾¼æ¨©é™ã‚’ä»˜ä¸" },
        { cmd: "chmod 755 script.sh", desc: "ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸" },
        { cmd: "umask 022", desc: "æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¨©é™ã‚’è¨­å®š" },

        // --- 101: ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç† ---
        { cmd: "cat /etc/passwd", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’å…¨è¡¨ç¤º" },
        { cmd: "less /var/log/messages", desc: "é•·ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ç”»é¢ãšã¤è¡¨ç¤ºï¼ˆé–²è¦§ã«æœ€é©ï¼‰" },
        { cmd: "head -n 10 file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­10è¡Œã‚’è¡¨ç¤º" },
        { cmd: "tail -f /var/log/syslog", desc: "ãƒ­ã‚°ã®æ›´æ–°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–" },
        { cmd: "grep -i 'error' file", desc: "å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã›ãšæ¤œç´¢" },
        { cmd: "grep -v '^#' file", desc: "ã‚³ãƒ¡ãƒ³ãƒˆè¡Œï¼ˆ#é–‹å§‹ï¼‰ã‚’é™¤å¤–ã—ã¦è¡¨ç¤º" },
        { cmd: "sed -i 's/old/new/g' file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®æ–‡å­—åˆ—ã‚’ç›´æ¥ç½®æ›" },
        { cmd: "awk '{print $1}' file", desc: "å„è¡Œã®1ç•ªç›®ã®é …ç›®ã ã‘ã‚’æŠ½å‡º" },
        { cmd: "sort -u file", desc: "é‡è¤‡ã‚’æ’é™¤ã—ã¦ä¸¦ã¹æ›¿ãˆ" },
        { cmd: "wc -l file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®è¡Œæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ" },

        // --- 101: ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»ãƒ‡ã‚£ã‚¹ã‚¯ ---
        { cmd: "ps aux", desc: "å®Ÿè¡Œä¸­ã®å…¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’è©³ç´°è¡¨ç¤º" },
        { cmd: "top", desc: "ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆQã§çµ‚äº†ï¼‰" },
        { cmd: "kill -9 1234", desc: "ãƒ—ãƒ­ã‚»ã‚¹ID 1234ã‚’å¼·åˆ¶çµ‚äº†" },
        { cmd: "jobs", desc: "ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã®ä¸€è¦§ã‚’è¡¨ç¤º" },
        { cmd: "df -h", desc: "ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãå®¹é‡ã‚’äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ã§è¡¨ç¤º" },
        { cmd: "du -sh *", desc: "ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®å®¹é‡åˆè¨ˆã‚’è¡¨ç¤º" },
        { cmd: "fdisk -l", desc: "ãƒ‡ã‚£ã‚¹ã‚¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³æ§‹æˆã‚’ç¢ºèª" },
        { cmd: "mount", desc: "ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’è¡¨ç¤º" },

        // --- 102: ã‚·ã‚§ãƒ«ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ---
        { cmd: "echo $PATH", desc: "ã‚³ãƒãƒ³ãƒ‰ã®æ¤œç´¢ãƒ‘ã‚¹ã‚’è¡¨ç¤º" },
        { cmd: "export VAR=val", desc: "ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š" },
        { cmd: "alias ll='ls -l'", desc: "ã‚³ãƒãƒ³ãƒ‰ã®åˆ¥åã‚’è¨­å®š" },
        { cmd: "ip addr show", desc: "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’è¡¨ç¤º" },
        { cmd: "ip route show", desc: "ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¡¨ç¤º" },
        { cmd: "ping -c 4 8.8.8.8", desc: "4å›ã ã‘ç–é€šç¢ºèªã‚’é€ã‚‹" },
        { cmd: "netstat -tulnp", desc: "å¾…æ©Ÿä¸­ã®ãƒãƒ¼ãƒˆã¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª" },
        { cmd: "ss -ant", desc: "TCPæ¥ç¶šã®çŠ¶æ…‹ã‚’è¡¨ç¤º" },
        { cmd: "dig google.com", desc: "DNSã®æ­£å¼•ãæƒ…å ±ã‚’ç¢ºèª" },
        { cmd: "ssh -p 22 user@host", desc: "ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶š" },

        // --- 102: ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ç®¡ç† ---
        { cmd: "systemctl start httpd", desc: "Webã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•" },
        { cmd: "systemctl stop firewalld", desc: "ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚’åœæ­¢" },
        { cmd: "systemctl enable sshd", desc: "SSHã®è‡ªå‹•èµ·å‹•ã‚’æœ‰åŠ¹åŒ–" },
        { cmd: "systemctl status crond", desc: "å®šæœŸå®Ÿè¡Œã‚µãƒ¼ãƒ“ã‚¹ã®ç¨¼åƒçŠ¶æ…‹ã‚’ç¢ºèª" },
        { cmd: "journalctl -xe", desc: "ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®æœ«å°¾ã‹ã‚‰ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèª" },
        { cmd: "crontab -e", desc: "å®šæœŸå®Ÿè¡Œã‚¿ã‚¹ã‚¯ã®ç·¨é›†" },
        { cmd: "useradd -m -s /bin/bash user", desc: "ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã‚’æŒ‡å®šã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ " },
        { cmd: "passwd username", desc: "æŒ‡å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´" },
        { cmd: "groupadd team-a", desc: "æ–°ã—ã„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆ" },
        { cmd: "id root", desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®UID/GIDã‚’ç¢ºèª" },

        // --- 102: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç† ---
        { cmd: "yum install nginx", desc: "RedHatç³»ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" },
        { cmd: "apt update && apt upgrade", desc: "Debianç³»ã§å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°" },
        { cmd: "rpm -qa", desc: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®RPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¨è¡¨ç¤º" },
        { cmd: "dpkg -l", desc: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€è¦§è¡¨ç¤º" },
        
        // --- é »å‡ºãƒ»é‡è¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« ---
        { cmd: "/etc/hostname", desc: "ãƒ›ã‚¹ãƒˆåã‚’è¨­å®šã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/hosts", desc: "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ›ã‚¹ãƒˆåã®å¯¾å¿œè¡¨" },
        { cmd: "/etc/resolv.conf", desc: "DNSã‚µãƒ¼ãƒãƒ¼ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/fstab", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆè¨­å®š" },
        { cmd: "/etc/shadow", desc: "æš—å·åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¿å­˜ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/sudoers", desc: "sudoæ¨©é™ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆvisudoã§ç·¨é›†ï¼‰" }
    ];

    let currentQ = {};
    let typedIndex = 0;
    let score = 0;
    let timeLeft = 60;
    let gameActive = false;
    let totalCharsTyped = 0;

    const targetTextElem = document.getElementById('target-text');
    const targetDescElem = document.getElementById('target-desc');
    const penguinElem = document.getElementById('penguin');
    const scoreElem = document.getElementById('score');
    const timerElem = document.getElementById('timer');

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        gameActive = true;
        nextQuestion();
        
        const timerId = setInterval(() => {
            timeLeft--;
            timerElem.innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timerId);
                endGame();
            }
        }, 1000);
    }

    function nextQuestion() {
        currentQ = questions[Math.floor(Math.random() * questions.length)];
        typedIndex = 0;
        updateDisplay();
        // å•é¡ŒãŒå¤‰ã‚ã‚‹ãŸã³ã«ãƒšãƒ³ã‚®ãƒ³ã®ä½ç½®ã‚’å°‘ã—æˆ»ã™ã‹ã€ãã®ã¾ã¾é€²ã‚ã‚‹ã‹ã¯ãŠå¥½ã¿
        // ä»Šå›ã¯ã€Œå…¨ä½“ã®é€²æ—ã€ã¨ã—ã¦ã€ãƒšãƒ³ã‚®ãƒ³ãŒå³ç«¯ã«ã„ãã¾ã§ã‚’1ã¤ã®ç›®æ¨™ã«ã—ã¾ã™
    }

    function updateDisplay() {
        let html = "";
        for (let i = 0; i < currentQ.cmd.length; i++) {
            if (i < typedIndex) {
                html += `<span class="correct">${currentQ.cmd[i]}</span>`;
            } else if (i === typedIndex) {
                html += `<span class="next">${currentQ.cmd[i]}</span>`;
            } else {
                html += `<span>${currentQ.cmd[i]}</span>`;
            }
        }
        targetTextElem.innerHTML = html;
        targetDescElem.innerText = currentQ.desc;
    }

    window.addEventListener('keydown', (e) => {
        if (!gameActive) {
            if (e.key === 'Enter') startGame();
            return;
        }

        // ã‚­ãƒ¼åˆ¤å®š
        if (e.key === currentQ.cmd[typedIndex]) {
            typedIndex++;
            totalCharsTyped++;
            score += 10;
            
            // ãƒšãƒ³ã‚®ãƒ³ã‚’å³ã«å‹•ã‹ã™ (æœ€å¤§90%ã¾ã§)
            let progress = (totalCharsTyped % 50) * 2; // 50æ–‡å­—æ‰“ã¤ã”ã¨ã«ç«¯ã¾ã§è¡Œãè¨­å®š
            penguinElem.style.left = progress + "%";
            
            if (typedIndex >= currentQ.cmd.length) {
                score += 50; // ãƒœãƒ¼ãƒŠã‚¹
                nextQuestion();
            } else {
                updateDisplay();
            }
            scoreElem.innerText = score;
        }
    });

    function endGame() {
        gameActive = false;
        document.getElementById('result-screen').style.display = 'flex';
        document.getElementById('final-stats').innerText = `æœ€çµ‚ã‚¹ã‚³ã‚¢: ${score}ç‚¹ / æ‰“éµæ•°: ${totalCharsTyped}`;
    }
</script>
</body>
</html>
